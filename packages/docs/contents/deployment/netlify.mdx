---
title: Netlify
description: åœ¨ Netlify.app ä¸Šéƒ¨ç½² Afilmory çš„æŒ‡å—ã€‚
createdAt: 2025-09-16T09:22:17+08:00
lastModified: 2025-09-18T01:00:07+08:00
---

# Netlify éƒ¨ç½²æŒ‡å—

## ğŸ• å‡†å¤‡å·¥ä½œ
- ä¸€ä¸ªNetlifyè´¦å·ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Githubç™»å½•
- å­˜å‚¨æ¡¶APIä¿¡æ¯ï¼ˆé˜¿é‡Œäº‘oss/äºšé©¬é€ŠS3/å…¶ä»–ï¼‰
- PostgreSQL æ•°æ®åº“ï¼ˆç”¨äº SSR åº”ç”¨ï¼‰
- Github forkæœ¬é¡¹ç›®æˆ–æœ¬é¡¹ç›®å·²åœ¨ä½ ä»“åº“ä¸­

## ğŸš€ å¿«é€Ÿå¼€å§‹

> å¦‚æœä½ å·²ç»å¾ˆç†Ÿæ‚‰Netlifyï¼Œåœ¨éƒ¨ç½²çš„æ—¶å€™æ–°å¢ä»¥ä¸‹ä¸‰ä¸ªç¯å¢ƒå˜é‡å³å¯ï¼Œå¯¹äºé¦–æ¬¡éƒ¨ç½²æˆ–ä¸ç†Ÿæ‚‰è¯·å¾€ä¸‹ç»§ç»­é˜…è¯»
> 
> ```bash
> S3_ACCESS_KEY_ID='ä½ çš„å­˜å‚¨æ¡¶AccessKeyID'
> S3_SECRET_ACCESS_KEY='ä½ çš„å­˜å‚¨æ¡¶AccessKeySecret'
> PG_CONNECTION_STRING='ä½ çš„postgresqlè¿æ¥åœ°å€'
> ```


## ğŸ‘ æ³¨å†Œç™»å½•Netlify

### ä½¿ç”¨GitHubæ³¨å†Œ

è®¿é—®[Netlifyå®˜ç½‘](https://app.netlify.com/signup)ï¼Œç‚¹å‡» **Sign up with GitHub** æŒ‰é’®

![ä½¿ç”¨GitHubæ³¨å†Œ](https://foruda.gitee.com/images/1757953042968112917/64cef441_1970629.png "ä½¿ç”¨GitHubæ³¨å†Œ")

ç‚¹å‡» **Authorize Netlify** æŒ‰é’®ï¼Œè‹¥æœªç™»å½•GitHubï¼Œä¸Šä¸€æ­¥éª¤åä¼šè¦æ±‚ä½ ç™»å½•GitHub

![Authorize Netlify Auth](https://foruda.gitee.com/images/1757953166959498081/f6221bba_1970629.png "Authorize Netlify Auth")

é¦–æ¬¡ç™»å½•ï¼ŒNetlifyä¼šè¯¢é—®ä¸€äº›é—®é¢˜ï¼Œå¡«å†™å®Œæˆåï¼Œæ»‘åŠ¨åˆ°é¡µé¢æœ€ä¸‹æ–¹ï¼Œç‚¹å‡» **Continue to deploy** æŒ‰é’®ï¼ŒHow are you planning to use Netlify é€‰æ‹© Personal å³å¯

![é¦–æ¬¡ç™»å½•](https://foruda.gitee.com/images/1757953412978976336/2ffd8217_1970629.png "é¦–æ¬¡ç™»å½•")

## ğŸ‘å¼€å§‹éƒ¨ç½²

### å¯¼å…¥é¡¹ç›®

ç‚¹å‡» **GitHub** æŒ‰é’®

![ç‚¹å‡»Github](https://foruda.gitee.com/images/1757953757049455327/4aae9dd2_1970629.png "ç‚¹å‡»Github")

åœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­ï¼Œç‚¹å‡» **Authorize Netlify** æŒ‰é’®

![ç‚¹å‡»Authorize Netlify](https://foruda.gitee.com/images/1757953967784835042/d215d477_1970629.png "ç‚¹å‡»Authorize Netlify")

ç­‰å¾…è®¤è¯å®Œæˆåï¼Œç‚¹å‡» **Install** æŒ‰é’®

![ç‚¹å‡»Install](https://foruda.gitee.com/images/1757954189874419317/d199fcd2_1970629.png "ç‚¹å‡»Install")

> è¿™é‡Œä¼šé»˜è®¤é€‰æ‹©ä½ æ‰€æœ‰çš„Githubä»“åº“ä»£ç ï¼Œä½ å¯ä»¥ç‚¹å‡»**Only select repository**æ¥é€‰æ‹©åªå®‰è£…æœ¬é¡¹ç›®

å½“ä½ ä¸Šé¢æ­¥éª¤éƒ½å®Œæˆåï¼Œèƒ½çœ‹åˆ°å¯¼å…¥çš„é¡¹ç›®

![ç‚¹å‡»é¡¹ç›®åå¼€å§‹éƒ¨ç½²](https://foruda.gitee.com/images/1757954792207038025/38ce2fd8_1970629.png "ç‚¹å‡»é¡¹ç›®åå¼€å§‹éƒ¨ç½²")

ç°åœ¨å›åˆ°å¼€å§‹é¡µ[https://app.netlify.com/start](https://app.netlify.com/start)ï¼Œç‚¹å‡»**GitHub**
![ç‚¹å‡»GitHub](https://foruda.gitee.com/images/1757987455727954611/3838b0c1_1970629.png "ç‚¹å‡»GitHub")

ç‚¹å‡»å¯¼å…¥çš„é¡¹ç›®
![ç‚¹å‡»å¯¼å…¥çš„é¡¹ç›®](https://foruda.gitee.com/images/1757987849195653381/aaad2c10_1970629.png "ç‚¹å‡»å¯¼å…¥çš„é¡¹ç›®")

### éƒ¨ç½²è®¾ç½®

1. å¡«å†™å¥½é¡¹ç›®åç§°**Project name**ï¼Œå¦‚æœä¸å¡«å†™åˆ™ä¼šéšæœºç”Ÿæˆä¸€ä¸ª

2. å°†**Build command**ä¿®æ”¹ä¸º
    ```bash
    pnpm run build
    ```

3. ç‚¹å‡»**Add environment variables** - **Add key/value pairs** - **New variable** æ·»åŠ ä¸‰ä¸ªç¯å¢ƒå˜é‡ã€‚å¦‚ä¸‹å›¾

    æ ¹æ®æƒ…å†µå¡«å†™é¡¹ç›®åç§°å’Œç¯å¢ƒå˜é‡ï¼Œ*å…¶ä½™é¡¹ä¸ç†Ÿæ‚‰çš„è¯·ä¸è¦æ›´æ”¹*ã€‚postgresqlæ•°æ®åº“é…ç½®è¯·çœ‹[æ•°æ®åº“é…ç½®](../usedb/postgresql)ï¼Œç¯å¢ƒå˜é‡keyå¿…é¡»æ˜¯ä»¥ä¸‹ä¸‰ä¸ªï¼Œvalue æ˜¯ä½ å¯¹åº”çš„å€¼

    ```bash
    S3_ACCESS_KEY_ID='ä½ çš„å­˜å‚¨æ¡¶AccessKeyID'
    S3_SECRET_ACCESS_KEY='ä½ çš„å­˜å‚¨æ¡¶AccessKeySecret'
    PG_CONNECTION_STRING='ä½ çš„postgresqlè¿æ¥åœ°å€'
    ```

![æ·»åŠ ä¸‰ä¸ªç¯å¢ƒå˜é‡](https://foruda.gitee.com/images/1757991847062394139/535628ea_1970629.png "æ·»åŠ ä¸‰ä¸ªç¯å¢ƒå˜é‡")

4. ç‚¹å‡»Deployï¼Œç­‰å¾…éƒ¨ç½²

5. æœ€åç‚¹å‡»Production deploysä¸‹æ–¹Production: main@HEADå¯ä»¥æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—

    ç­‰ *Deploy log* çŠ¶æ€å…¨éƒ¨æ˜¯ *Complete* å°±ç®—æ˜¯éƒ¨ç½²å®Œæˆäº†

![éƒ¨ç½²å®Œæˆ](https://foruda.gitee.com/images/1758073342965752503/206a3f81_1970629.png "éƒ¨ç½²å®Œæˆ")

6. éƒ¨ç½²å¤±è´¥ï¼Ÿè¯·çœ‹[é—®é¢˜è§£å†³](#heading-â‰ï¸é—®é¢˜è§£å†³)

## ğŸŒ åŸŸåé…ç½®

ä¾æ¬¡ç‚¹å‡»é¡¹ç›®å·¦ä¾§ **Domain management** - **Add a domain** - **Add a domain you already own**

![åŸŸåé…ç½®](https://foruda.gitee.com/images/1758010858064174190/44e2892d_1970629.png "åŸŸåé…ç½®")

1. è¾“å…¥åŸŸååï¼Œç‚¹å‡»**Verify**
2. å‰å¾€ä½ çš„åŸŸåæä¾›å•†ï¼Œæ·»åŠ ä¸€ä¸ªåŸŸåè§£æ
```yml
è®°å½•ç±»å‹ï¼šCNAME
ä¸»æœºè®°å½•ï¼šå¡«å†™ä½ çš„åŸŸå
è®°å½•å€¼ï¼šçœ‹ä¸Šå›¾ Netlify subdomain ä¸Šæ–¹çš„åŸŸå
```

## â‰ï¸é—®é¢˜è§£å†³

è‹¥ä½ çš„éƒ¨ç½²æ—¥å¿—ä¸­æç¤ºï¼Œ*Worker å¯åŠ¨è¶…æ—¶*ï¼Œå¹¶å¸¦æœ‰ *ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰* é”™è¯¯æç¤ºï¼Œç±»ä¼¼å¦‚ä¸‹ç­‰ä¿¡æ¯æ—¶

```bash
Error: Worker 57 å¯åŠ¨è¶…æ—¶
*
Error: write EPIPE
*
ERR_PNPM_RECURSIVE_RUN_FIRST_FAILâ€‰ @afilmory/ssr@1.0.0 build: `sh scripts/build.sh`
Exit status 1
*
```

æ‰¾åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ **builder.config.ts**

```shell
# å°†
useClusterMode: true,
# ä¿®æ”¹ä¸º
useClusterMode: false,
```

